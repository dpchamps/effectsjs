this["webpackChunklib"]([1],{

/***/ "../effects-common/lib/StackFrame.js":
/*!*******************************************!*\
  !*** ../effects-common/lib/StackFrame.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var util_1=__webpack_require__(/*! ./util */ "../effects-common/lib/util.js");var ReturnFrame=Symbol("ReturnFrame");var HandlerReference=Symbol("HandlerReference");var RootContinuation=Symbol("RootContinuation");exports.getHandler=function(frame,type,defaultType){if(defaultType===void 0){defaultType=null;}var _a;var handler=frame[HandlerReference];if(util_1.exists(handler)){// @ts-ignore
return util_1.exists(handler[type])?handler[type]:(_a=handler[defaultType])!==null&&_a!==void 0?_a:null;}return null;};exports.getReturnFrame=function(frame){return frame[ReturnFrame];};exports.isHandlerType=function(frame,type){if(!util_1.isIterator(frame))return false;return exports.getHandler(frame,type)!==null;};exports.addReturn=function(targetFrame,returnFrame){return void(targetFrame[ReturnFrame]=returnFrame);};exports.addHandler=function(frame,handler){return void(frame[HandlerReference]=handler);};exports.setRootContinuation=function(fn){return void(fn[RootContinuation]=true);};exports.isRootContinuation=function(fn){return Boolean(fn[RootContinuation]);};exports.findHandlerFrame=function(frame,type,defaultType){if(defaultType===void 0){defaultType=null;}var frameWithHandler=frame;while(util_1.exists(frameWithHandler)&&!exports.isHandlerType(frameWithHandler,type)){if(util_1.exists(defaultType)&&exports.isHandlerType(frameWithHandler,defaultType))break;frameWithHandler=exports.getReturnFrame(frameWithHandler);}if(!util_1.exists(frameWithHandler)||!util_1.isIterator(frameWithHandler))return null;return frameWithHandler;};

/***/ }),

/***/ "../effects-common/lib/mod.js":
/*!************************************!*\
  !*** ../effects-common/lib/mod.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return extendStatics(d,b);};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1];},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),"throw":verb(1),"return":verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this;}),g;function verb(n){return function(v){return step([n,v]);};}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue;}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break;}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break;}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break;}if(t[2])_.ops.pop();_.trys.pop();continue;}op=body.call(thisArg,_);}catch(e){op=[6,e];y=0;}finally{f=t=0;}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true};}};var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]];}return t;};var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(Object.hasOwnProperty.call(mod,k))result[k]=mod[k];result["default"]=mod;return result;};Object.defineProperty(exports,"__esModule",{value:true});var StackFrame_1=__webpack_require__(/*! ./StackFrame */ "../effects-common/lib/StackFrame.js");var util_1=__webpack_require__(/*! ./util */ "../effects-common/lib/util.js");var _frame=__importStar(__webpack_require__(/*! ./StackFrame */ "../effects-common/lib/StackFrame.js"));var _util=__importStar(__webpack_require__(/*! ./util */ "../effects-common/lib/util.js"));exports.frame=_frame;exports.util=_util;var UnhandledEffectError=/** @class */function(_super){__extends(UnhandledEffectError,_super);function UnhandledEffectError(_a){var type=_a.type;var _this=_super.call(this)||this;_this.message="Encountered an unhandled effect :"+String(type);return _this;}return UnhandledEffectError;}(TypeError);exports.UnhandledEffectError=UnhandledEffectError;var unwindStack=function(e,frame){// TODO: [major] construct an intelligible stack trace.
//  This might be done best with the help of a babel transform plugin
var root=frame;while(util_1.exists(root)&&!StackFrame_1.isRootContinuation(root)){root=StackFrame_1.getReturnFrame(root);}if(util_1.isContinuation(root))root(e);else throw e;};exports.stackResume=function(gen,arg){return __awaiter(void 0,void 0,void 0,function(){var _a,value,done,returnFrame,e_1;return __generator(this,function(_b){switch(_b.label){case 0:if(!util_1.isIterator(gen)){return[2/*return*/,gen];}_b.label=1;case 1:_b.trys.push([1,15,,16]);return[4/*yield*/,gen.next(arg)];case 2:_a=_b.sent(),value=_a.value,done=_a.done;if(!!done)return[3/*break*/,9];if(!util_1.isIterator(value))return[3/*break*/,4];StackFrame_1.addReturn(value,gen);return[4/*yield*/,exports.stackResume(value,null)];case 3:return[2/*return*/,_b.sent()];case 4:if(!util_1.isContinuation(value))return[3/*break*/,6];return[4/*yield*/,value(gen)];case 5:return[2/*return*/,_b.sent()];case 6:return[4/*yield*/,exports.stackResume(gen,value)];case 7:return[2/*return*/,_b.sent()];case 8:return[3/*break*/,14];case 9:returnFrame=StackFrame_1.getReturnFrame(gen);if(!util_1.isIterator(returnFrame))return[3/*break*/,11];return[4/*yield*/,exports.stackResume(returnFrame,value)];case 10:return[2/*return*/,_b.sent()];case 11:if(!util_1.isContinuation(returnFrame))return[3/*break*/,13];return[4/*yield*/,returnFrame(value)];case 12:return[2/*return*/,_b.sent()];case 13:return[2/*return*/,arg];case 14:return[3/*break*/,16];case 15:e_1=_b.sent();unwindStack(e_1,gen);return[3/*break*/,16];case 16:return[2/*return*/];}});});};exports.runProgram=function(root){return __awaiter(void 0,void 0,void 0,function(){return __generator(this,function(_a){return[2/*return*/,exports.stackResume(root,null)];});});};exports.performEffect=function(_a){var type=_a.type,data=__rest(_a,["type"]);return function(currentFrame){return __awaiter(void 0,void 0,void 0,function(){var frameWithEffectHandler,handlerFrameCreator,capturedContinuation,handlerFrame;return __generator(this,function(_a){switch(_a.label){case 0:frameWithEffectHandler=StackFrame_1.findHandlerFrame(currentFrame,type);if(!util_1.exists(frameWithEffectHandler)){throw new UnhandledEffectError({type:type});}handlerFrameCreator=StackFrame_1.getHandler(frameWithEffectHandler,type);// TODO: [minor] Set up a type-guard on getHandler, or findHandlerFrame to indicate that at this point the handlerFrame must exist.
if(!util_1.exists(handlerFrameCreator)){// Unreachable code
throw new TypeError("Reached Something That shouldn't be reachable");}capturedContinuation=function(handlerFnResult){/**
                         * The interpreter will call this with whatever frame is currently in control.
                         * It's possible to do something with that frame.. but I don't think it's necessary,
                         * just resume the frame that performed with the result of the perform.
                         */return function(currentControlFrame){return __awaiter(void 0,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4/*yield*/,exports.stackResume(currentFrame,handlerFnResult)];case 1:return[2/*return*/,_a.sent()];}});});};};handlerFrame=handlerFrameCreator(data,capturedContinuation);StackFrame_1.addReturn(handlerFrame,StackFrame_1.getReturnFrame(frameWithEffectHandler));return[4/*yield*/,exports.stackResume(handlerFrame)];case 1:return[2/*return*/,_a.sent()];}});});};};exports.withHandler=function(handler,frame){var handlerFrame=function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4/*yield*/,frame];case 1:return[2/*return*/,_a.sent()];}});}();StackFrame_1.addHandler(handlerFrame,handler);return handlerFrame;};

/***/ }),

/***/ "../effects-common/lib/util.js":
/*!*************************************!*\
  !*** ../effects-common/lib/util.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1];},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),"throw":verb(1),"return":verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this;}),g;function verb(n){return function(v){return step([n,v]);};}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue;}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break;}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break;}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break;}if(t[2])_.ops.pop();_.trys.pop();continue;}op=body.call(thisArg,_);}catch(e){op=[6,e];y=0;}finally{f=t=0;}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true};}};var __await=this&&this.__await||function(v){return this instanceof __await?(this.v=v,this):new __await(v);};var __asyncGenerator=this&&this.__asyncGenerator||function(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this;},i;function verb(n){if(g[n])i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v);});};}function resume(n,v){try{step(g[n](v));}catch(e){settle(q[0][3],e);}}function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r);}function fulfill(value){resume("next",value);}function reject(value){resume("throw",value);}function settle(f,v){if(f(v),q.shift(),q.length)resume(q[0][0],q[0][1]);}};Object.defineProperty(exports,"__esModule",{value:true});// Helper method to lens a value as not null and not undefined
exports.exists=function(x){return typeof x!=="undefined"&&x!==null;};//  A Continuation is just a plain-old function.
//  But the virtual stack interpreter checks to see if frames point to "continuations" which
//  are plain old functions... helps the readability.
exports.isContinuation=function(x){return typeof x==="function"&&["AsyncGeneratorFunction","GeneratorFunction"].every(function(type){return type!==Reflect.getPrototypeOf(x).constructor.name;});};exports.isIterator=function(x){return exports.exists(x)&&exports.isContinuation(x.next);};var asyncGeneratorInstance=function(){return __asyncGenerator(this,arguments,function(){return __generator(this,function(_a){return[2/*return*/];});});};exports.isAsyncGenerator=function(input){return Reflect.getPrototypeOf(input)===Reflect.getPrototypeOf(asyncGeneratorInstance);};

/***/ }),

/***/ "../effects-runtime/lib/prelude-polyfill.js":
/*!**************************************************!*\
  !*** ../effects-runtime/lib/prelude-polyfill.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});const runtime_1=__webpack_require__(/*! ./runtime */ "../effects-runtime/lib/runtime.js");global.stackResume=runtime_1.stackResume;global.withHandler=runtime_1.withHandler;global.runProgram=runtime_1.runProgram;global.performEffect=runtime_1.performEffect;global.__defaultEffectHandler__=runtime_1.DefaultEffectHandler;

/***/ }),

/***/ "../effects-runtime/lib/runtime.js":
/*!*****************************************!*\
  !*** ../effects-runtime/lib/runtime.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(Object.hasOwnProperty.call(mod,k))result[k]=mod[k];result["default"]=mod;return result;};Object.defineProperty(exports,"__esModule",{value:true});const common=__importStar(__webpack_require__(/*! effects-common */ "../effects-common/lib/mod.js"));const{frame:{addHandler,addReturn,findHandlerFrame,getHandler,getReturnFrame,isRootContinuation},util:{exists,isContinuation,isIterator}}=common;exports.DefaultEffectHandler=Symbol("DefaultEffectHandler");class UnhandledEffectError extends TypeError{constructor({type}){super();this.message=`Encountered an unhandled effect :${String(type)}`;}}exports.UnhandledEffectError=UnhandledEffectError;const unwindStack=(e,frame)=>{let root=frame;while(exists(root)&&!isRootContinuation(root)){root=getReturnFrame(root);}if(isContinuation(root))root(e);else throw e;};exports.stackResume=async(gen,arg)=>{if(!isIterator(gen)){return gen;}try{const{value,done}=await gen.next(arg);if(!done){if(isIterator(value)){addReturn(value,gen);return await exports.stackResume(value,null);}else if(isContinuation(value)){return await value(gen);}else{return await exports.stackResume(gen,value);}}else{const returnFrame=getReturnFrame(gen);if(isIterator(returnFrame)){return await exports.stackResume(returnFrame,value);}else if(isContinuation(returnFrame)){return await returnFrame(value);}else{return arg;}}}catch(e){unwindStack(e,gen);}};exports.runProgram=async root=>{const result=await exports.stackResume(root,null);return result;};exports.performEffect=({type,...data})=>async currentFrame=>{const frameWithEffectHandler=findHandlerFrame(currentFrame,type,exports.DefaultEffectHandler);if(!exists(frameWithEffectHandler)){throw new UnhandledEffectError({type});}const handlerFrameCreator=getHandler(frameWithEffectHandler,type,exports.DefaultEffectHandler);if(!exists(handlerFrameCreator)){throw new TypeError(`Reached Something That shouldn't be reachable`);}const capturedContinuation=handlerFnResult=>async currentControlFrame=>{return await exports.stackResume(currentFrame,handlerFnResult);};const handlerFrame=handlerFrameCreator(data,capturedContinuation);addReturn(handlerFrame,getReturnFrame(frameWithEffectHandler));return await exports.stackResume(handlerFrame);};exports.withHandler=(handler,frame)=>{const handlerFrame=function*(){return yield frame;}();addHandler(handlerFrame,handler);return handlerFrame;};

/***/ })

});
//# sourceMappingURL=1.971f976f634d6dfb4677.worker.js.map